{"ast":null,"code":"import _toConsumableArray from\"/Users/stoocom/Desktop/Geekbrains/Project/Kamasutra/social_network/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";import _objectSpread from\"/Users/stoocom/Desktop/Geekbrains/Project/Kamasutra/social_network/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import{profileAPI}from\"../api/profileApi\";var ADD_POST='ADD-POST';var SET_USER_PROFILE='SET_USER_PROFILE';var SET_USER_STATUS='SET_USER_STATUS';var UPDATE_USER_STATUS='UPDATE_USER_STATUS';var DELETE_POST='DELETE_POST';var initialState={posts:[{id:1,message:'Hello people!',countLikes:'15'},{id:2,message:\"I'm hunter\",countLikes:'20'},{id:3,message:\"I'll stay good programmer\",countLikes:'15'}],profile:null,status:''};var profileReducer=function profileReducer(){var state=arguments.length>0&&arguments[0]!==undefined?arguments[0]:initialState;var action=arguments.length>1?arguments[1]:undefined;switch(action.type){case ADD_POST:var body=action.postMessage;return _objectSpread({},state,{posts:[].concat(_toConsumableArray(state.posts),[{id:state.posts.length+1,message:body,countLikes:0}])});case SET_USER_PROFILE:return _objectSpread({},state,{profile:action.profile});case SET_USER_STATUS:return _objectSpread({},state,{status:action.status});case UPDATE_USER_STATUS:return _objectSpread({},state,{status:action.status});case DELETE_POST:return _objectSpread({},state,{posts:state.posts.filter(function(p){return p.id!=action.postId;})});default:return state;}};export var addPostActionCreator=function addPostActionCreator(postMessage){return{type:ADD_POST,postMessage:postMessage};};export var deletePost=function deletePost(postId){return{type:DELETE_POST,postId:postId};};export var setUserProfile=function setUserProfile(profile){return{type:SET_USER_PROFILE,profile:profile};};export var setUserStatus=function setUserStatus(status){return{type:SET_USER_STATUS,status:status};};export var updateUserStatus=function updateUserStatus(status){return{type:UPDATE_USER_STATUS,status:status};};export var getProfileThunkCreator=function getProfileThunkCreator(userId){return function(dispatch){profileAPI.getProfile(userId).then(function(response){//this.props.setLoading(false)\ndispatch(setUserProfile(response.data));});};};export var getStatusThunkCreator=function getStatusThunkCreator(userId){return function(dispatch){profileAPI.getStatus(userId).then(function(response){dispatch(setUserStatus(response.data));});};};export var updateStatusThunkCreator=function updateStatusThunkCreator(status){return function(dispatch){profileAPI.updateStatus(status).then(function(response){if(response.data.resultCode===0){dispatch(updateUserStatus(status));}});};};export default profileReducer;","map":{"version":3,"sources":["/Users/stoocom/Desktop/Geekbrains/Project/Kamasutra/social_network/src/redux/profileReducer.js"],"names":["profileAPI","ADD_POST","SET_USER_PROFILE","SET_USER_STATUS","UPDATE_USER_STATUS","DELETE_POST","initialState","posts","id","message","countLikes","profile","status","profileReducer","state","action","type","body","postMessage","length","filter","p","postId","addPostActionCreator","deletePost","setUserProfile","setUserStatus","updateUserStatus","getProfileThunkCreator","userId","dispatch","getProfile","then","response","data","getStatusThunkCreator","getStatus","updateStatusThunkCreator","updateStatus","resultCode"],"mappings":"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","sourcesContent":["import { profileAPI } from \"../api/profileApi\"\n\nconst ADD_POST = 'ADD-POST'\nconst SET_USER_PROFILE = 'SET_USER_PROFILE'\nconst SET_USER_STATUS = 'SET_USER_STATUS'\nconst UPDATE_USER_STATUS = 'UPDATE_USER_STATUS'\nconst DELETE_POST = 'DELETE_POST'\n\n\nlet initialState = {\n    posts: [\n        { id: 1, message: 'Hello people!', countLikes: '15' },\n        { id: 2, message: \"I'm hunter\", countLikes: '20' },\n        { id: 3, message: \"I'll stay good programmer\", countLikes: '15' },\n    ],\n    profile: null,\n    status: '',\n}\n\nconst profileReducer = (state = initialState, action) => {\n    switch (action.type) {\n        case ADD_POST:\n            let body = action.postMessage;\n            return {\n                ...state,\n                posts: [\n                    ...state.posts,\n                    {\n                        id: state.posts.length + 1,\n                        message: body,\n                        countLikes: 0\n                    }\n                ]\n            }\n        case SET_USER_PROFILE:\n            return {\n                ...state,\n                profile: action.profile\n            }\n        case SET_USER_STATUS:\n            return {\n                ...state,\n                status: action.status\n            }\n        case UPDATE_USER_STATUS:\n            return {\n                ...state,\n                status: action.status\n            }\n        case DELETE_POST:\n            return {\n                ...state,\n                posts: state.posts.filter(p => p.id != action.postId ),\n            }\n        default:\n            return state\n    }\n}\n\nexport const addPostActionCreator = (postMessage) => {\n    return { type: ADD_POST, postMessage }\n}\nexport const deletePost = (postId) => {\n    return { type: DELETE_POST, postId }\n}\nexport const setUserProfile = (profile) => {\n    return { type: SET_USER_PROFILE, profile }\n}\nexport const setUserStatus = (status) => {\n    return { type: SET_USER_STATUS, status }\n}\nexport const updateUserStatus = (status) => {\n    return { type: UPDATE_USER_STATUS, status }\n}\nexport const getProfileThunkCreator = (userId) => {\n    return dispatch => {\n        profileAPI.getProfile(userId)\n            .then(response => {\n                //this.props.setLoading(false)\n                dispatch(setUserProfile(response.data))\n            })\n    }\n}\nexport const getStatusThunkCreator = (userId) => {\n    return dispatch => {\n        profileAPI.getStatus(userId)\n            .then(response => {\n                dispatch(setUserStatus(response.data))\n            })\n    }\n}\nexport const updateStatusThunkCreator = (status) => {\n    return dispatch => {\n        profileAPI.updateStatus(status)\n            .then(response => {\n                if (response.data.resultCode === 0) {\n                    dispatch(updateUserStatus(status))\n                }\n            })\n    }\n}\n\nexport default profileReducer;"]},"metadata":{},"sourceType":"module"}