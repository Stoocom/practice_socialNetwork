{"ast":null,"code":"import _classCallCheck from\"/Users/stoocom/Desktop/Geekbrains/Project/Kamasutra/social_network/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/stoocom/Desktop/Geekbrains/Project/Kamasutra/social_network/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/Users/stoocom/Desktop/Geekbrains/Project/Kamasutra/social_network/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/Users/stoocom/Desktop/Geekbrains/Project/Kamasutra/social_network/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import{connect}from'react-redux';import{follow,unfollow,setCurrentPage,toggleFollowingProgress,getUsersThunkCreator}from'../../redux/usersReducer';import Users from'./Users.jsx';import React from'react';import Loader from'../common/Preloader/Loader';import{getPageSize,getTotalCount,getCurrentPage,getIsLoading,getFollowingInProgress,getNewUsersSuperSelector}from'../../redux/user-selectors';var UsersContainer=/*#__PURE__*/function(_React$Component){_inherits(UsersContainer,_React$Component);var _super=_createSuper(UsersContainer);function UsersContainer(){var _this;_classCallCheck(this,UsersContainer);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.unFollow=function(id){_this.props.unfollow(id);};_this.onPageChanged=function(pageNumber){var pageSize=_this.props.pageSize;_this.props.getCurrentUsers(pageNumber,pageSize);};return _this;}_createClass(UsersContainer,[{key:\"componentDidMount\",value:function componentDidMount(){var _this$props=this.props,currentPage=_this$props.currentPage,pageSize=_this$props.pageSize;this.props.getCurrentUsers(currentPage,pageSize);}},{key:\"render\",value:function render(){return/*#__PURE__*/React.createElement(React.Fragment,null,this.props.isLoading?/*#__PURE__*/React.createElement(Loader,null):/*#__PURE__*/React.createElement(Users,{totalCount:this.props.totalCount,pageSize:this.props.pageSize,currentPage:this.props.currentPage,onPageChanged:this.onPageChanged,users:this.props.users,follow:this.props.follow,unfollow:this.props.unfollow,toggleFollowingProgress:this.props.toggleFollowingProgress,followingInProgress:this.props.followingInProgress}));}}]);return UsersContainer;}(React.Component);// let mapStateToProps = (state) => {\n//     return {\n//         users: state.usersPage.users,\n//         pageSize: state.usersPage.pageSize,\n//         totalCount: state.usersPage.totalCount,\n//         currentPage: state.usersPage.currentPage,\n//         isLoading: state.usersPage.isLoading,\n//         followingInProgress: state.usersPage.followingInProgress,\n//     }\n// }\nvar mapStateToProps=function mapStateToProps(state){return{users:getNewUsersSuperSelector(state),pageSize:getPageSize(state),totalCount:getTotalCount(state),currentPage:getCurrentPage(state),isLoading:getIsLoading(state),followingInProgress:getFollowingInProgress(state)};};var UsersMainContainer=connect(mapStateToProps,{follow:follow,unfollow:unfollow,setCurrentPage:setCurrentPage,toggleFollowingProgress:toggleFollowingProgress,getCurrentUsers:getUsersThunkCreator})(UsersContainer);export default UsersMainContainer;","map":{"version":3,"sources":["/Users/stoocom/Desktop/Geekbrains/Project/Kamasutra/social_network/src/components/Users/UsersContainer.jsx"],"names":["connect","follow","unfollow","setCurrentPage","toggleFollowingProgress","getUsersThunkCreator","Users","React","Loader","getPageSize","getTotalCount","getCurrentPage","getIsLoading","getFollowingInProgress","getNewUsersSuperSelector","UsersContainer","unFollow","id","props","onPageChanged","pageNumber","pageSize","getCurrentUsers","currentPage","isLoading","totalCount","users","followingInProgress","Component","mapStateToProps","state","UsersMainContainer"],"mappings":"otBAAA,OAASA,OAAT,KAAwB,aAAxB,CACA,OAASC,MAAT,CAAiBC,QAAjB,CAA2BC,cAA3B,CAA2CC,uBAA3C,CAAoEC,oBAApE,KAAgG,0BAAhG,CACA,MAAOC,CAAAA,KAAP,KAAkB,aAAlB,CACA,MAAOC,CAAAA,KAAP,KAAkB,OAAlB,CACA,MAAOC,CAAAA,MAAP,KAAmB,4BAAnB,CACA,OAASC,WAAT,CAAsBC,aAAtB,CAAqCC,cAArC,CAAqDC,YAArD,CAAmEC,sBAAnE,CAA2FC,wBAA3F,KAA2H,4BAA3H,C,GAEMC,CAAAA,c,uWACFC,Q,CAAW,SAACC,EAAD,CAAQ,CACf,MAAKC,KAAL,CAAWhB,QAAX,CAAoBe,EAApB,EACH,C,OAMDE,a,CAAgB,SAACC,UAAD,CAAgB,IACtBC,CAAAA,QADsB,CACT,MAAKH,KADI,CACtBG,QADsB,CAE5B,MAAKH,KAAL,CAAWI,eAAX,CAA2BF,UAA3B,CAAuCC,QAAvC,EACH,C,uGARmB,iBACgB,KAAKH,KADrB,CACVK,WADU,aACVA,WADU,CACGF,QADH,aACGA,QADH,CAEhB,KAAKH,KAAL,CAAWI,eAAX,CAA2BC,WAA3B,CAAwCF,QAAxC,EACH,C,uCAOQ,CAEL,mBACI,wCACK,KAAKH,KAAL,CAAWM,SAAX,cAAuB,oBAAC,MAAD,MAAvB,cACD,oBAAC,KAAD,EACI,UAAU,CAAE,KAAKN,KAAL,CAAWO,UAD3B,CAEI,QAAQ,CAAE,KAAKP,KAAL,CAAWG,QAFzB,CAGI,WAAW,CAAE,KAAKH,KAAL,CAAWK,WAH5B,CAII,aAAa,CAAE,KAAKJ,aAJxB,CAKI,KAAK,CAAE,KAAKD,KAAL,CAAWQ,KALtB,CAMI,MAAM,CAAE,KAAKR,KAAL,CAAWjB,MANvB,CAOI,QAAQ,CAAE,KAAKiB,KAAL,CAAWhB,QAPzB,CAQI,uBAAuB,CAAE,KAAKgB,KAAL,CAAWd,uBARxC,CASI,mBAAmB,CAAE,KAAKc,KAAL,CAAWS,mBATpC,EAFJ,CADJ,CAiBH,C,4BAjCwBpB,KAAK,CAACqB,S,EAoCnC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAIC,CAAAA,eAAe,CAAG,QAAlBA,CAAAA,eAAkB,CAACC,KAAD,CAAW,CAC7B,MAAO,CACHJ,KAAK,CAAEZ,wBAAwB,CAACgB,KAAD,CAD5B,CAEHT,QAAQ,CAAEZ,WAAW,CAACqB,KAAD,CAFlB,CAGHL,UAAU,CAAEf,aAAa,CAACoB,KAAD,CAHtB,CAIHP,WAAW,CAAEZ,cAAc,CAACmB,KAAD,CAJxB,CAKHN,SAAS,CAAEZ,YAAY,CAACkB,KAAD,CALpB,CAMHH,mBAAmB,CAAEd,sBAAsB,CAACiB,KAAD,CANxC,CAAP,CAQH,CATD,CAWA,GAAMC,CAAAA,kBAAkB,CAAG/B,OAAO,CAAC6B,eAAD,CAAkB,CAChD5B,MAAM,CAANA,MADgD,CACxCC,QAAQ,CAARA,QADwC,CAC9BC,cAAc,CAAdA,cAD8B,CACdC,uBAAuB,CAAvBA,uBADc,CAEhDkB,eAAe,CAAEjB,oBAF+B,CAAlB,CAAP,CAGxBU,cAHwB,CAA3B,CAKA,cAAegB,CAAAA,kBAAf","sourcesContent":["import { connect } from 'react-redux';\nimport { follow, unfollow, setCurrentPage, toggleFollowingProgress, getUsersThunkCreator } from '../../redux/usersReducer';\nimport Users from './Users.jsx'\nimport React from 'react'\nimport Loader from '../common/Preloader/Loader'\nimport { getPageSize, getTotalCount, getCurrentPage, getIsLoading, getFollowingInProgress, getNewUsersSuperSelector } from '../../redux/user-selectors';\n\nclass UsersContainer extends React.Component {\n    unFollow = (id) => {\n        this.props.unfollow(id)\n    }\n    componentDidMount() {\n        let { currentPage, pageSize } = this.props\n        this.props.getCurrentUsers(currentPage, pageSize)\n    }\n\n    onPageChanged = (pageNumber) => {\n        let { pageSize } = this.props\n        this.props.getCurrentUsers(pageNumber, pageSize)\n    }\n    \n    render() {\n\n        return (\n            <>\n                {this.props.isLoading ? <Loader/> :\n                <Users\n                    totalCount={this.props.totalCount}\n                    pageSize={this.props.pageSize}\n                    currentPage={this.props.currentPage}\n                    onPageChanged={this.onPageChanged}\n                    users={this.props.users}\n                    follow={this.props.follow}\n                    unfollow={this.props.unfollow}\n                    toggleFollowingProgress={this.props.toggleFollowingProgress}\n                    followingInProgress={this.props.followingInProgress}\n                />\n        }\n            </>\n        )\n    }\n}\n\n// let mapStateToProps = (state) => {\n//     return {\n//         users: state.usersPage.users,\n//         pageSize: state.usersPage.pageSize,\n//         totalCount: state.usersPage.totalCount,\n//         currentPage: state.usersPage.currentPage,\n//         isLoading: state.usersPage.isLoading,\n//         followingInProgress: state.usersPage.followingInProgress,\n//     }\n// }\nlet mapStateToProps = (state) => {\n    return {\n        users: getNewUsersSuperSelector(state),\n        pageSize: getPageSize(state),\n        totalCount: getTotalCount(state),\n        currentPage: getCurrentPage(state),\n        isLoading: getIsLoading(state),\n        followingInProgress: getFollowingInProgress(state),\n    }\n}\n\nconst UsersMainContainer = connect(mapStateToProps, {\n    follow, unfollow, setCurrentPage, toggleFollowingProgress, \n    getCurrentUsers: getUsersThunkCreator\n})(UsersContainer)\n\nexport default UsersMainContainer"]},"metadata":{},"sourceType":"module"}