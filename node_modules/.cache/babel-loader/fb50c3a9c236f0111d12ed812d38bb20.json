{"ast":null,"code":"var _jsxFileName = \"/Users/stoocom/Desktop/Geekbrains/Project/Kamasutra/social_network/src/components/Users/UsersContainer.jsx\";\nimport { connect } from 'react-redux';\nimport { follow, unfollow, setCurrentPage, toggleFollowingProgress, getUsersThunkCreator } from '../../redux/usersReducer';\nimport Users from './Users.jsx';\nimport React from 'react';\nimport Loader from '../common/Preloader/Loader';\nimport { getPageSize, getTotalCount, getCurrentPage, getIsLoading, getFollowingInProgress, getNewUsersSuperSelector } from '../../redux/user-selectors';\n\nclass UsersContainer extends React.Component {\n  constructor(...args) {\n    super(...args);\n\n    this.unFollow = id => {\n      this.props.unfollow(id);\n    };\n\n    this.onPageChanged = pageNumber => {\n      let {\n        pageSize\n      } = this.props;\n      this.props.getCurrentUsers(pageSize);\n    };\n  }\n\n  componentDidMount() {\n    let {\n      currentPage,\n      pageSize\n    } = this.props;\n    this.props.getCurrentUsers(currentPage, pageSize);\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(React.Fragment, null, this.props.isLoading ? /*#__PURE__*/React.createElement(Loader, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 26,\n        columnNumber: 41\n      }\n    }) : /*#__PURE__*/React.createElement(Users, {\n      totalCount: this.props.totalCount,\n      pageSize: this.props.pageSize,\n      currentPage: this.props.currentPage,\n      onPageChanged: this.onPageChanged,\n      users: this.props.users,\n      follow: this.props.follow,\n      unfollow: this.props.unfollow,\n      toggleFollowingProgress: this.props.toggleFollowingProgress,\n      followingInProgress: this.props.followingInProgress,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 27,\n        columnNumber: 17\n      }\n    }));\n  }\n\n} // let mapStateToProps = (state) => {\n//     return {\n//         users: state.usersPage.users,\n//         pageSize: state.usersPage.pageSize,\n//         totalCount: state.usersPage.totalCount,\n//         currentPage: state.usersPage.currentPage,\n//         isLoading: state.usersPage.isLoading,\n//         followingInProgress: state.usersPage.followingInProgress,\n//     }\n// }\n\n\nlet mapStateToProps = state => {\n  return {\n    users: getNewUsersSuperSelector(state),\n    pageSize: getPageSize(state),\n    totalCount: getTotalCount(state),\n    currentPage: getCurrentPage(state),\n    isLoading: getIsLoading(state),\n    followingInProgress: getFollowingInProgress(state)\n  };\n};\n\nconst UsersMainContainer = connect(mapStateToProps, {\n  follow,\n  unfollow,\n  setCurrentPage,\n  toggleFollowingProgress,\n  getCurrentUsers: getUsersThunkCreator\n})(UsersContainer);\nexport default UsersMainContainer;","map":{"version":3,"sources":["/Users/stoocom/Desktop/Geekbrains/Project/Kamasutra/social_network/src/components/Users/UsersContainer.jsx"],"names":["connect","follow","unfollow","setCurrentPage","toggleFollowingProgress","getUsersThunkCreator","Users","React","Loader","getPageSize","getTotalCount","getCurrentPage","getIsLoading","getFollowingInProgress","getNewUsersSuperSelector","UsersContainer","Component","unFollow","id","props","onPageChanged","pageNumber","pageSize","getCurrentUsers","componentDidMount","currentPage","render","isLoading","totalCount","users","followingInProgress","mapStateToProps","state","UsersMainContainer"],"mappings":";AAAA,SAASA,OAAT,QAAwB,aAAxB;AACA,SAASC,MAAT,EAAiBC,QAAjB,EAA2BC,cAA3B,EAA2CC,uBAA3C,EAAoEC,oBAApE,QAAgG,0BAAhG;AACA,OAAOC,KAAP,MAAkB,aAAlB;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,OAAOC,MAAP,MAAmB,4BAAnB;AACA,SAASC,WAAT,EAAsBC,aAAtB,EAAqCC,cAArC,EAAqDC,YAArD,EAAmEC,sBAAnE,EAA2FC,wBAA3F,QAA2H,4BAA3H;;AAEA,MAAMC,cAAN,SAA6BR,KAAK,CAACS,SAAnC,CAA6C;AAAA;AAAA;;AAAA,SACzCC,QADyC,GAC7BC,EAAD,IAAQ;AACf,WAAKC,KAAL,CAAWjB,QAAX,CAAoBgB,EAApB;AACH,KAHwC;;AAAA,SASzCE,aATyC,GASxBC,UAAD,IAAgB;AAC5B,UAAI;AAAEC,QAAAA;AAAF,UAAe,KAAKH,KAAxB;AACA,WAAKA,KAAL,CAAWI,eAAX,CAA2BD,QAA3B;AACH,KAZwC;AAAA;;AAIzCE,EAAAA,iBAAiB,GAAG;AAChB,QAAI;AAAEC,MAAAA,WAAF;AAAeH,MAAAA;AAAf,QAA4B,KAAKH,KAArC;AACA,SAAKA,KAAL,CAAWI,eAAX,CAA2BE,WAA3B,EAAwCH,QAAxC;AACH;;AAODI,EAAAA,MAAM,GAAG;AAEL,wBACI,0CACK,KAAKP,KAAL,CAAWQ,SAAX,gBAAuB,oBAAC,MAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAAvB,gBACD,oBAAC,KAAD;AACI,MAAA,UAAU,EAAE,KAAKR,KAAL,CAAWS,UAD3B;AAEI,MAAA,QAAQ,EAAE,KAAKT,KAAL,CAAWG,QAFzB;AAGI,MAAA,WAAW,EAAE,KAAKH,KAAL,CAAWM,WAH5B;AAII,MAAA,aAAa,EAAE,KAAKL,aAJxB;AAKI,MAAA,KAAK,EAAE,KAAKD,KAAL,CAAWU,KALtB;AAMI,MAAA,MAAM,EAAE,KAAKV,KAAL,CAAWlB,MANvB;AAOI,MAAA,QAAQ,EAAE,KAAKkB,KAAL,CAAWjB,QAPzB;AAQI,MAAA,uBAAuB,EAAE,KAAKiB,KAAL,CAAWf,uBARxC;AASI,MAAA,mBAAmB,EAAE,KAAKe,KAAL,CAAWW,mBATpC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAFJ,CADJ;AAiBH;;AAjCwC,C,CAoC7C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AACA,IAAIC,eAAe,GAAIC,KAAD,IAAW;AAC7B,SAAO;AACHH,IAAAA,KAAK,EAAEf,wBAAwB,CAACkB,KAAD,CAD5B;AAEHV,IAAAA,QAAQ,EAAEb,WAAW,CAACuB,KAAD,CAFlB;AAGHJ,IAAAA,UAAU,EAAElB,aAAa,CAACsB,KAAD,CAHtB;AAIHP,IAAAA,WAAW,EAAEd,cAAc,CAACqB,KAAD,CAJxB;AAKHL,IAAAA,SAAS,EAAEf,YAAY,CAACoB,KAAD,CALpB;AAMHF,IAAAA,mBAAmB,EAAEjB,sBAAsB,CAACmB,KAAD;AANxC,GAAP;AAQH,CATD;;AAWA,MAAMC,kBAAkB,GAAGjC,OAAO,CAAC+B,eAAD,EAAkB;AAChD9B,EAAAA,MADgD;AACxCC,EAAAA,QADwC;AAC9BC,EAAAA,cAD8B;AACdC,EAAAA,uBADc;AAEhDmB,EAAAA,eAAe,EAAElB;AAF+B,CAAlB,CAAP,CAGxBU,cAHwB,CAA3B;AAKA,eAAekB,kBAAf","sourcesContent":["import { connect } from 'react-redux';\nimport { follow, unfollow, setCurrentPage, toggleFollowingProgress, getUsersThunkCreator } from '../../redux/usersReducer';\nimport Users from './Users.jsx'\nimport React from 'react'\nimport Loader from '../common/Preloader/Loader'\nimport { getPageSize, getTotalCount, getCurrentPage, getIsLoading, getFollowingInProgress, getNewUsersSuperSelector } from '../../redux/user-selectors';\n\nclass UsersContainer extends React.Component {\n    unFollow = (id) => {\n        this.props.unfollow(id)\n    }\n    componentDidMount() {\n        let { currentPage, pageSize } = this.props\n        this.props.getCurrentUsers(currentPage, pageSize)\n    }\n\n    onPageChanged = (pageNumber) => {\n        let { pageSize } = this.props\n        this.props.getCurrentUsers(pageSize)\n    }\n    \n    render() {\n\n        return (\n            <>\n                {this.props.isLoading ? <Loader/> :\n                <Users\n                    totalCount={this.props.totalCount}\n                    pageSize={this.props.pageSize}\n                    currentPage={this.props.currentPage}\n                    onPageChanged={this.onPageChanged}\n                    users={this.props.users}\n                    follow={this.props.follow}\n                    unfollow={this.props.unfollow}\n                    toggleFollowingProgress={this.props.toggleFollowingProgress}\n                    followingInProgress={this.props.followingInProgress}\n                />\n        }\n            </>\n        )\n    }\n}\n\n// let mapStateToProps = (state) => {\n//     return {\n//         users: state.usersPage.users,\n//         pageSize: state.usersPage.pageSize,\n//         totalCount: state.usersPage.totalCount,\n//         currentPage: state.usersPage.currentPage,\n//         isLoading: state.usersPage.isLoading,\n//         followingInProgress: state.usersPage.followingInProgress,\n//     }\n// }\nlet mapStateToProps = (state) => {\n    return {\n        users: getNewUsersSuperSelector(state),\n        pageSize: getPageSize(state),\n        totalCount: getTotalCount(state),\n        currentPage: getCurrentPage(state),\n        isLoading: getIsLoading(state),\n        followingInProgress: getFollowingInProgress(state),\n    }\n}\n\nconst UsersMainContainer = connect(mapStateToProps, {\n    follow, unfollow, setCurrentPage, toggleFollowingProgress, \n    getCurrentUsers: getUsersThunkCreator\n})(UsersContainer)\n\nexport default UsersMainContainer"]},"metadata":{},"sourceType":"module"}