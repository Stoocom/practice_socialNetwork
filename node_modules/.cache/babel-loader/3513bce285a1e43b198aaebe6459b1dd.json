{"ast":null,"code":"var _jsxFileName = \"/Users/stoocom/Desktop/Geekbrains/Project/Kamasutra/social_network/src/components/Users/Users.jsx\";\nimport React from 'react';\nimport s from './Users.module.css';\nimport userPhoto from '../../assets/images/default_icon.jpg';\nimport { NavLink } from 'react-router-dom';\nimport * as axios from 'axios';\nimport { usersAPI } from '../../api/api';\n\nlet Users = props => {\n  let pagesCount = Math.ceil(props.totalCount / props.pageSize);\n  let pages = [];\n\n  for (let i = 1; i <= pagesCount; i++) {\n    pages.push(i);\n  }\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 16,\n      columnNumber: 12\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 17,\n      columnNumber: 9\n    }\n  }, pages.map(i => {\n    return /*#__PURE__*/React.createElement(\"span\", {\n      onClick: () => props.onPageChanged(i),\n      key: i,\n      className: props.currentPage === i ? s.selectedPage : '',\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 20,\n        columnNumber: 28\n      }\n    }, i);\n  })), props.users.map(user => {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: s.user,\n      key: user.id + user.name,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 27,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 29,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 30,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(NavLink, {\n      to: '/profile/' + user.id,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 31,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(\"img\", {\n      className: s.avatar,\n      src: user.photos.small != null ? user.photos.small : userPhoto,\n      alt: \"avatar\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 32,\n        columnNumber: 33\n      }\n    }))), user.followed ? /*#__PURE__*/React.createElement(\"button\", {\n      disabled: props.followingInProgress.some(i => i === user.id),\n      onClick: () => {\n        props.toggleFollowingProgress(true, user.id);\n        usersAPI.unfollow(user.id);\n        axios.delete(`https://social-network.samuraijs.com/api/1.0/follow/${user.id}`, {\n          withCredentials: true,\n          headers: {\n            \"API-KEY\": \"aefe3d13-769e-4201-8170-a0f001057380\"\n          }\n        }).then(response => {\n          if (response.data.resultCode === 0) {\n            console.log('Работает ДЕЛИТ');\n            props.follow(user.id);\n          }\n\n          props.toggleFollowingProgress(false, user.id);\n        });\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 36,\n        columnNumber: 31\n      }\n    }, \"\\u0414\\u0440\\u0443\\u0433\") : /*#__PURE__*/React.createElement(\"button\", {\n      disabled: props.followingInProgress.some(i => i === user.id),\n      onClick: () => {\n        props.toggleFollowingProgress(true, user.id);\n        usersAPI.follow(user.id);\n        axios.post(`https://social-network.samuraijs.com/api/1.0/follow/${user.id}`, {}, {\n          withCredentials: true,\n          headers: {\n            \"API-KEY\": \"aefe3d13-769e-4201-8170-a0f001057380\"\n          }\n        }).then(response => {\n          if (response.data.resultCode === 0) {\n            console.log('Работает ПОСТ');\n            props.unFollow(user.id);\n          }\n\n          props.toggleFollowingProgress(false, user.id);\n        });\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 31\n      }\n    }, \"\\u041D\\u0435 \\u0432 \\u0434\\u0440\\u0443\\u0437\\u044C\\u044F\\u0445\")), /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 25\n      }\n    }, user.name), /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 79,\n        columnNumber: 25\n      }\n    }, user.status), /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 80,\n        columnNumber: 25\n      }\n    }, \"user.location.country\"), /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 81,\n        columnNumber: 25\n      }\n    }, \"user.location.city\")));\n  }));\n};\n\nexport default Users;","map":{"version":3,"sources":["/Users/stoocom/Desktop/Geekbrains/Project/Kamasutra/social_network/src/components/Users/Users.jsx"],"names":["React","s","userPhoto","NavLink","axios","usersAPI","Users","props","pagesCount","Math","ceil","totalCount","pageSize","pages","i","push","map","onPageChanged","currentPage","selectedPage","users","user","id","name","avatar","photos","small","followed","followingInProgress","some","toggleFollowingProgress","unfollow","delete","withCredentials","headers","then","response","data","resultCode","console","log","follow","post","unFollow","status"],"mappings":"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","sourcesContent":["import React from 'react'\nimport s from './Users.module.css'\nimport userPhoto from '../../assets/images/default_icon.jpg'\nimport { NavLink } from 'react-router-dom'\nimport * as axios from 'axios'\nimport { usersAPI } from '../../api/api'\n\nlet Users = (props) => {\n    let pagesCount = Math.ceil(props.totalCount / props.pageSize)\n    let pages = []\n    for (let i = 1; i <= pagesCount; i++) {\n        pages.push(i)\n    }\n\n\n    return <div>\n        <div>\n            {\n                pages.map(i => {\n                    return <span onClick={() => props.onPageChanged(i)} key={i} className={(props.currentPage === i) ? s.selectedPage : ''}>{i}</span>\n                })\n            }\n        </div>\n\n        {props.users.map((user) => {\n            return (\n                <div className={s.user} key={user.id + user.name}>\n\n                    <div>\n                        <div>\n                            <NavLink to={'/profile/' + user.id}>\n                                <img className={s.avatar} src={user.photos.small != null ? user.photos.small : userPhoto} alt='avatar' />\n                            </NavLink>\n                        </div>\n                        {user.followed\n                            ? <button disabled={props.followingInProgress.some(i => i === user.id)} \n                                      onClick={() => {\n                                props.toggleFollowingProgress(true, user.id)\n                                usersAPI.unfollow(user.id)\n                                axios.delete(`https://social-network.samuraijs.com/api/1.0/follow/${user.id}`, { \n                                    withCredentials: true,\n                                    headers: {\n                                        \"API-KEY\": \"aefe3d13-769e-4201-8170-a0f001057380\"\n                                    }\n                                })\n                                    .then(response => {\n                                        if (response.data.resultCode === 0) {\n                                            console.log('Работает ДЕЛИТ')\n                                            props.follow(user.id)\n                                        }\n                                        props.toggleFollowingProgress(false, user.id)\n                                    })\n\n                            }}>Друг</button>\n                            : <button disabled={props.followingInProgress.some(i => i === user.id)} \n                                    onClick={() => {\n                                \n                                props.toggleFollowingProgress(true, user.id)\n                                usersAPI.follow(user.id)\n                                axios.post(`https://social-network.samuraijs.com/api/1.0/follow/${user.id}`, {}, { \n                                    withCredentials: true,\n                                    headers: {\n                                        \"API-KEY\": \"aefe3d13-769e-4201-8170-a0f001057380\"\n                                    }\n                                })\n                                    .then(response => {\n                                        if (response.data.resultCode === 0) {\n                                            console.log('Работает ПОСТ')\n                                            props.unFollow(user.id)\n                                        }\n                                        props.toggleFollowingProgress(false, user.id)\n                                    })\n\n                            }}>Не в друзьях</button>\n                        }\n                    </div>\n                    <div>\n                        <div>{user.name}</div>\n                        <div>{user.status}</div>\n                        <div>{\"user.location.country\"}</div>\n                        <div>{\"user.location.city\"}</div>\n                    </div>\n                </div>\n            )\n        })\n        }\n    </div>\n\n}\n\nexport default Users"]},"metadata":{},"sourceType":"module"}