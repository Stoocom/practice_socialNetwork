{"ast":null,"code":"var _jsxFileName = \"/Users/stoocom/Desktop/Geekbrains/Project/Kamasutra/social_network/src/components/Users/UsersContainer.jsx\";\nimport { connect } from 'react-redux';\nimport { follow, unfollow, setCurrentPage, toggleFollowingProgress, getUsersThunkCreator } from '../../redux/usersReducer';\nimport Users from './Users.jsx';\nimport axios from 'axios';\nimport React from 'react';\nimport Loader from '../common/Preloader/Loader';\nimport { getPageSize, getTotalCount, getCurrentPage, getIsLoading, getFollowingInProgress, getNewUsersSuperSelector } from '../../redux/user-selectors';\n\nclass UsersContainer extends React.Component {\n  constructor(...args) {\n    super(...args);\n\n    this.unFollow = id => {\n      this.props.unfollow(id);\n    };\n\n    this.onPageChanged = pageNumber => {\n      this.props.getCurrentUsers(pageNumber, this.props.pageSize); // this.props.setLoading(true)\n      // this.props.setCurrentPage(pageNumber)\n      // usersAPI.getUsers(pageNumber, this.props.pageSize).then(data => {\n      //         this.props.setLoading(false)\n      //         this.props.setUsers(data.items)\n      //     })\n    };\n  }\n\n  componentDidMount() {\n    this.props.getCurrentUsers(this.props.currentPage, this.props.pageSize); // this.props.setLoading(true)\n    // usersAPI.getUsers(this.props.currentPage, this.props.pageSize).then(data => {\n    //         this.props.setLoading(false)\n    //         this.props.setUsers(data.items)\n    //         this.props.setTotalCount(data.totalCount / 300)\n    // })\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(React.Fragment, null, this.props.isLoading ? /*#__PURE__*/React.createElement(Loader, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 37,\n        columnNumber: 41\n      }\n    }) : /*#__PURE__*/React.createElement(Users, {\n      totalCount: this.props.totalCount,\n      pageSize: this.props.pageSize,\n      currentPage: this.props.currentPage,\n      onPageChanged: this.onPageChanged,\n      users: this.props.users,\n      follow: this.props.follow,\n      unfollow: this.props.unfollow,\n      toggleFollowingProgress: this.props.toggleFollowingProgress,\n      followingInProgress: this.props.followingInProgress,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 38,\n        columnNumber: 17\n      }\n    }));\n  }\n\n} // let mapStateToProps = (state) => {\n//     return {\n//         users: state.usersPage.users,\n//         pageSize: state.usersPage.pageSize,\n//         totalCount: state.usersPage.totalCount,\n//         currentPage: state.usersPage.currentPage,\n//         isLoading: state.usersPage.isLoading,\n//         followingInProgress: state.usersPage.followingInProgress,\n//     }\n// }\n\n\nlet mapStateToProps = state => {\n  return {\n    users: getNewUsersSuperSelector(state),\n    pageSize: getPageSize(state),\n    totalCount: getTotalCount(state),\n    currentPage: getCurrentPage(state),\n    isLoading: getIsLoading(state),\n    followingInProgress: getFollowingInProgress(state)\n  };\n};\n\nconst UsersMainContainer = connect(mapStateToProps, {\n  follow,\n  unfollow,\n  setCurrentPage,\n  toggleFollowingProgress,\n  getCurrentUsers: getUsersThunkCreator\n})(UsersContainer);\nexport default UsersMainContainer;","map":{"version":3,"sources":["/Users/stoocom/Desktop/Geekbrains/Project/Kamasutra/social_network/src/components/Users/UsersContainer.jsx"],"names":["connect","follow","unfollow","setCurrentPage","toggleFollowingProgress","getUsersThunkCreator","Users","axios","React","Loader","getPageSize","getTotalCount","getCurrentPage","getIsLoading","getFollowingInProgress","getNewUsersSuperSelector","UsersContainer","Component","unFollow","id","props","onPageChanged","pageNumber","getCurrentUsers","pageSize","componentDidMount","currentPage","render","isLoading","totalCount","users","followingInProgress","mapStateToProps","state","UsersMainContainer"],"mappings":";AAAA,SAASA,OAAT,QAAwB,aAAxB;AACA,SAASC,MAAT,EAAiBC,QAAjB,EAA2BC,cAA3B,EAA2CC,uBAA3C,EAAoEC,oBAApE,QAAgG,0BAAhG;AACA,OAAOC,KAAP,MAAkB,aAAlB;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,OAAOC,MAAP,MAAmB,4BAAnB;AACA,SAASC,WAAT,EAAsBC,aAAtB,EAAqCC,cAArC,EAAqDC,YAArD,EAAmEC,sBAAnE,EAA2FC,wBAA3F,QAA2H,4BAA3H;;AAEA,MAAMC,cAAN,SAA6BR,KAAK,CAACS,SAAnC,CAA6C;AAAA;AAAA;;AAAA,SACzCC,QADyC,GAC7BC,EAAD,IAAQ;AACf,WAAKC,KAAL,CAAWlB,QAAX,CAAoBiB,EAApB;AACH,KAHwC;;AAAA,SAczCE,aAdyC,GAcxBC,UAAD,IAAgB;AAC5B,WAAKF,KAAL,CAAWG,eAAX,CAA2BD,UAA3B,EAAuC,KAAKF,KAAL,CAAWI,QAAlD,EAD4B,CAE5B;AACA;AACA;AACA;AACA;AACA;AACH,KAtBwC;AAAA;;AAIzCC,EAAAA,iBAAiB,GAAG;AAChB,SAAKL,KAAL,CAAWG,eAAX,CAA2B,KAAKH,KAAL,CAAWM,WAAtC,EAAmD,KAAKN,KAAL,CAAWI,QAA9D,EADgB,CAEhB;AACA;AACA;AACA;AACA;AACA;AACH;;AAYDG,EAAAA,MAAM,GAAG;AAEL,wBACI,0CACK,KAAKP,KAAL,CAAWQ,SAAX,gBAAuB,oBAAC,MAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAAvB,gBACD,oBAAC,KAAD;AACI,MAAA,UAAU,EAAE,KAAKR,KAAL,CAAWS,UAD3B;AAEI,MAAA,QAAQ,EAAE,KAAKT,KAAL,CAAWI,QAFzB;AAGI,MAAA,WAAW,EAAE,KAAKJ,KAAL,CAAWM,WAH5B;AAII,MAAA,aAAa,EAAE,KAAKL,aAJxB;AAKI,MAAA,KAAK,EAAE,KAAKD,KAAL,CAAWU,KALtB;AAMI,MAAA,MAAM,EAAE,KAAKV,KAAL,CAAWnB,MANvB;AAOI,MAAA,QAAQ,EAAE,KAAKmB,KAAL,CAAWlB,QAPzB;AAQI,MAAA,uBAAuB,EAAE,KAAKkB,KAAL,CAAWhB,uBARxC;AASI,MAAA,mBAAmB,EAAE,KAAKgB,KAAL,CAAWW,mBATpC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAFJ,CADJ;AAiBH;;AA3CwC,C,CA8C7C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AACA,IAAIC,eAAe,GAAIC,KAAD,IAAW;AAC7B,SAAO;AACHH,IAAAA,KAAK,EAAEf,wBAAwB,CAACkB,KAAD,CAD5B;AAEHT,IAAAA,QAAQ,EAAEd,WAAW,CAACuB,KAAD,CAFlB;AAGHJ,IAAAA,UAAU,EAAElB,aAAa,CAACsB,KAAD,CAHtB;AAIHP,IAAAA,WAAW,EAAEd,cAAc,CAACqB,KAAD,CAJxB;AAKHL,IAAAA,SAAS,EAAEf,YAAY,CAACoB,KAAD,CALpB;AAMHF,IAAAA,mBAAmB,EAAEjB,sBAAsB,CAACmB,KAAD;AANxC,GAAP;AAQH,CATD;;AAWA,MAAMC,kBAAkB,GAAGlC,OAAO,CAACgC,eAAD,EAAkB;AAChD/B,EAAAA,MADgD;AACxCC,EAAAA,QADwC;AAC9BC,EAAAA,cAD8B;AACdC,EAAAA,uBADc;AAEhDmB,EAAAA,eAAe,EAAElB;AAF+B,CAAlB,CAAP,CAGxBW,cAHwB,CAA3B;AAKA,eAAekB,kBAAf","sourcesContent":["import { connect } from 'react-redux';\nimport { follow, unfollow, setCurrentPage, toggleFollowingProgress, getUsersThunkCreator } from '../../redux/usersReducer';\nimport Users from './Users.jsx'\nimport axios from 'axios'\nimport React from 'react'\nimport Loader from '../common/Preloader/Loader'\nimport { getPageSize, getTotalCount, getCurrentPage, getIsLoading, getFollowingInProgress, getNewUsersSuperSelector } from '../../redux/user-selectors';\n\nclass UsersContainer extends React.Component {\n    unFollow = (id) => {\n        this.props.unfollow(id)\n    }\n    componentDidMount() {\n        this.props.getCurrentUsers(this.props.currentPage, this.props.pageSize)\n        // this.props.setLoading(true)\n        // usersAPI.getUsers(this.props.currentPage, this.props.pageSize).then(data => {\n        //         this.props.setLoading(false)\n        //         this.props.setUsers(data.items)\n        //         this.props.setTotalCount(data.totalCount / 300)\n        // })\n    }\n\n    onPageChanged = (pageNumber) => {\n        this.props.getCurrentUsers(pageNumber, this.props.pageSize)\n        // this.props.setLoading(true)\n        // this.props.setCurrentPage(pageNumber)\n        // usersAPI.getUsers(pageNumber, this.props.pageSize).then(data => {\n        //         this.props.setLoading(false)\n        //         this.props.setUsers(data.items)\n        //     })\n    }\n    \n    render() {\n\n        return (\n            <>\n                {this.props.isLoading ? <Loader/> :\n                <Users\n                    totalCount={this.props.totalCount}\n                    pageSize={this.props.pageSize}\n                    currentPage={this.props.currentPage}\n                    onPageChanged={this.onPageChanged}\n                    users={this.props.users}\n                    follow={this.props.follow}\n                    unfollow={this.props.unfollow}\n                    toggleFollowingProgress={this.props.toggleFollowingProgress}\n                    followingInProgress={this.props.followingInProgress}\n                />\n        }\n            </>\n        )\n    }\n}\n\n// let mapStateToProps = (state) => {\n//     return {\n//         users: state.usersPage.users,\n//         pageSize: state.usersPage.pageSize,\n//         totalCount: state.usersPage.totalCount,\n//         currentPage: state.usersPage.currentPage,\n//         isLoading: state.usersPage.isLoading,\n//         followingInProgress: state.usersPage.followingInProgress,\n//     }\n// }\nlet mapStateToProps = (state) => {\n    return {\n        users: getNewUsersSuperSelector(state),\n        pageSize: getPageSize(state),\n        totalCount: getTotalCount(state),\n        currentPage: getCurrentPage(state),\n        isLoading: getIsLoading(state),\n        followingInProgress: getFollowingInProgress(state),\n    }\n}\n\nconst UsersMainContainer = connect(mapStateToProps, {\n    follow, unfollow, setCurrentPage, toggleFollowingProgress, \n    getCurrentUsers: getUsersThunkCreator\n})(UsersContainer)\n\nexport default UsersMainContainer"]},"metadata":{},"sourceType":"module"}